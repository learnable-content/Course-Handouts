Introduction

In this video, we are going to take a look at the different types of loops that canbe used in Ruby.Loops will repeat a piece of code over andover again according to certain conditions.
Wire Loop.

The first type of loop we're going to look at is called a wire loop.This will repeatedly run a block of code while a certain condition is true.Let's take a look at some code in this file called while.rb.We start by declaring a variable called number, here.And another variable called attempts, here.Both of these variables are initially assigned the value of 0.These variables are going to be used in the loop.And so they need to be initialized at the start of the program before the loopis run.Otherwise, there'll be an error if they are mentioned before they have a value.Now the loop starts here, with the while keyword.And finishes with the end keyword, here.And the block of code that's going to be run in the loop, is in the middle here.Now we can see that the condition here,is that the value of the number variable has to be less than 6.So in English, this is basically saying that we need to keeprepeating this block of code here while the number is less than 6.Now as we said at the start, the number variable starts with the value of 0.So the loop is going to be run at least once,because it starts off that that value is less than 6.So this block of code here will be run the first time through.Once this block of code starts to get running, it starts byrandomly assigning a value to that number variable again.And it's a random number between 1 and 6.Again, we're simulating the rolling of a die.Then we use puts to output a stringthat reports the value of that number using string interpolation.And then, in the last line of the loop,we increase the value of the attempts variable by 1.Remember, this plus and equal symbol together will increment a variableby the number that comes after it, and here we've used 1.So this will increase the number of attempts by 1.And then if this number value that was picked at random is still less than 6,this block of code will be run again.Assigning another random number to the number variable, andthen outputting the value of that number, increasing the attempts by 1.And then checking to see if the number is less than 6,and running the code again and again.And this will keep happening until the value of the number is 6.Then we will break out of the loop and display this message here,which uses string interpolation to show the number of attempts thathappened before we got the number 6.
Running Code

Let's have a look at this code running.To do this, we just need to open up a terminal andtype in ruby followed by the name of the file, which was while.rb.And if I press enter, we can see that first of all, we rolled a number 2.And then the second roll was a number 6.So it tells us it took 2 attempts to roll the 6.And if we try running that code again, say this time therewere 3 attempts, we rolled 3, 3, and then a 6.
Until Loops

Next we're going to look at until loops.Now, these are very similar to while loops,except they will keep running until a condition is met.If we look at this example here in this file called until.rb,We can see that once again, we initially start by creating some variables.One is called input, here, and its just an empty string.Again, this has to be initialized to start with,because it's referred to in the loop later.We also output a message just introducing what we're going to do.And just telling the user to type something in.Then, we start the until loop here, using the key word until,and again, it finishes with the key word end.And in between, is the block of code that we're going to run inside the loop.This time, the condition is that this block of code will keep on running untilthe value of the input variable is equal to,remember two equal signs is checking for equality.And until that input is the string goodbye.Now remember this string here was the empty string,was the initial value of the input variable.So, again, this loop is going to be run at least once.Now, inside the loop, we can see that, first of all, we use the puts commandto output the string that was entered that's held in the variable input.And we use the upcase method to display that string in upper case characters.Then, we replace the input variable with someuser entered value, which we use the gets command.And remember the chomp method just to take off the enter symbol at the end.This loop will continue to repeat, whatever the user types in, butit will display in capitals until the user enters the string goodbye.And once that happens, it breaks out of this loop anddisplays this message saying that we've finished this game.Let's have a look at this running.Go back to the terminal and this time, I'll type ruby and until.rb.If I press enter, first of all, we can see the message displayed here,and then we just need to type something.So let's try hello and when I press enter we can seethat this is being repeated in uppercase letters.So if I type something else, say, ruby is fun, andit's repeated back to me in capital letters again.So, this is, we're stuck inside the loop at the moment andwhat I need to break out of the loop is enter goodbye.And that was the condition until that is true, we'll stay in the loop.Once I press enter we can see we break out of the loop, andwe get this message to say that we've finished.
Iterators

Now we're going to look at some iterators.These are methods of arrays, hashes, and ranges, andthey act in similar ways to loops.The first one we're going to look at is the each method, which we can see here.Now, this range here represents the integers from 1 to 10, including 10.And then we're displaying the each method here, so it's .each.And what this will do is run this block of code here,which is terminated by the end keyword again.And it will run this block of code for each of the integers in the range.This value here, number inside these pipe symbols, represents a sort oftemporary variable that represents the number in the range during each iteration.So, it will start at 1 andthen it'll enter the value of 1 into this code, and run this code.Once this code has been run,it will then increment the value of number to 2, and run the code again.Then, the value of number will be 3, and run this code again, andit'll keep going until the value of number is 10.So it's kind of like a place holder for each number in each iteration.Now let's have a look at the code inside the block.What this does is uses puts to output a string anduses string interpolation to display the number here.So we can see each number in the range starting at 1 and going up to to 10.And then it tells us that that number squared is this here.Now, in the number video we learned that the asterisk symbolrepresents multiplication.Well, the double asterisk symbol represents a power.So, this means the number to the power of 2, or squared.So we're basically going to say 1 squared is and then it will work out 1 squared.2 squared is and it will calculate 2 squared and soon all the way up to 10 squared.Let's have a look at this code running.If we go and run back to the terminal andtype in ruby each.rb, press enter.And we can see what's happened is, the iterator,the each method, has iterated all the way through that range of values,starting at 1, and displaying that piece of code.1 squared is 1.Then running the code for the number 2.Then for 3, and so on, through each number in the range up to 10 squared is 100.Now the map method is a similar iterator method to each.But instead of just running the block of code, it actually replaces the originalvalue inside the array, or hash, with the results of the block of code.So in this example here, we can see that we've goneback to our shopping list example that we used earlier.And I've created an array of different strings there containing apples andbananas.I want to add the word tasty to the beginning ofeach item in my shopping list.
Map Method

So what I need to do is use the map method,which will then iterate over the array and run this piece of code here foreach item inside the array.And this time we place the the block of code inside curly braces.This means we don't need to use the end keyword to finish off the block of code.This is very common if the code is only one line, which it is in this case.Now notice again I've got this temporary variable calledfruit inside the pipe symbols here.And this will refer to each item in the array that is being passedinto this block of code.Now for each item in the array, we're going to be adding the string tasty.Or yummy, in this case, with a space.And then we're going to use the plus method to addthe string from the array onto the end.And what this will do is it won't output that at all.It will just replace the item in the array with the output of this code.So when apples is placed inside the fruit variable here, we will getyummy apples, and that will become the first item in the array.Then bananas will be sent into this block of code, and the output,yummy bananas, will then replace this string here inside the array.So we'll get a new array.And notice I'm using the bang version of map,it's got the exclamation mark on the end, or the bang symbol.This means the array will be fully replaced.If we didn't use that, it would run the code and create a temporary array butwouldn't actually replace the array held in the variable list.In this case it will do and the variable list will be changed permanently.The last line of code here, uses the p command,which is used here to display what the array looks like.Otherwise, what will happen, is the code will be run, but we'llnever actually get to see what the array held in the list variable looks like.The p command is often used when debugging code, as it will show an object,rather than converting it into a string.It's very similar to the puts command.Where the puts command always outputs a string, because it stands for put string.The p command just shows the exact object, sowe'll be able to see this as an array instead.Let's have a look at the code running.If I go back to the terminal and enter ruby,and this was called map.rb.If I press enter, all I get is the output of the array butwe can see that the array has been changed.It started, in the first line of code,as just an array containing apples and bananas.And we can see after we've used the map method,that array has been changed into this new array,where each word inside has the word yummy placed in front of it.Now, that's it for loops.
Next Lesson

In the next video,we're going to be writing a program that models a deck of playing cards.See you then.